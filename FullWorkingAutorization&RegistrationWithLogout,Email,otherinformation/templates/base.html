<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>mainroom</title>
	</head>

	<body>

		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
			<header class="mdl-layout__header">
				<div class="mdl-layout__header-row">

					{% if request.user.is_authenticated %}
					<span class="mdl-layout-title">
						{% if request.user.first_name %}

						Welcome, {{ request.user.first_name }}!

						{% else %}

						Welcome, {{ request.user }}!

						{% endif %}
					</span>
					{% else %}
					{% endif %}

					<div class="mdl-layout-spacer"></div>

					<nav class="mdl-navigation mdl-layout--large-screen-only">
						{% if request.user.is_authenticated %}
						<a
							class="mdl-navigation__link"
							href="{% url 'logout_user' %}"
							>Logout</a
						>
						{% else %}
						<a
							class="mdl-navigation__link"
							href="{% url 'login_user' %}"
							>Login</a
						>
						<a
							class="mdl-navigation__link"
							href="{% url 'registry_user' %}"
							>Register</a
						>
						{% endif %}
					</nav>
				</div>
			</header>

			<main class="mdl-layout__content">
				<div class="page-content">

					{% block content %}{% endblock %}

					{% if messages %} {% for message in messages %}

					<span class="mdl-chip django-messages">
						<span class="mdl-chip__text django-messages__text">{{ message }}</span>
					</span>
					<!-- prettier-ignore -->
					{% endfor %}{% endif %}
				</div>
			</main>
		</div>


		{% block scripts %}

		{% if request.path == '/main/' %}
		<script>
			try {
				window.onload = function () {
					setTimeout(function () {
						scrollToBottom();
					}, 1);
				};
			} catch (error) {
				console.error("Error executing scrollToBottom:", error);
			}
		</script>
		{% endif %} {% endblock %}
	</body>
</html>
